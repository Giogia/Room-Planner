/*[global-shim-start]*/
!function(exports,global){var origDefine=global.define,get=function(e){var o,l=e.split("."),n=global;for(o=0;o<l.length&&n;o++)n=n[l[o]];return n},modules=global.define&&global.define.modules||global._define&&global._define.modules||{},ourDefine=global.define=function(e,o,l){var n;"function"==typeof o&&(l=o,o=[]);var r,t=[];for(r=0;r<o.length;r++)t.push(exports[o[r]]?get(exports[o[r]]):modules[o[r]]||get(o[r]));if(!o.length&&l.length){n={exports:{}};var i=function(e){return exports[e]?get(exports[e]):modules[e]};t.push(i,n.exports,n)}else t[0]||"exports"!==o[0]?t[0]||"module"!==o[0]||(t[0]={id:e}):(n={exports:{}},t[0]=n.exports,"module"===o[1]&&(t[1]=n));global.define=origDefine;var a=l?l.apply(null,t):void 0;global.define=ourDefine,modules[e]=n&&n.exports?n.exports:a};global.define.orig=origDefine,global.define.modules=modules,global.define.amd=!0,ourDefine("@loader",[],function(){var noop=function(){};return{get:function(){return{prepareGlobal:noop,retrieveGlobal:noop}},global:global,__exec:function(__load){eval("(function() { "+__load.source+" \n }).call(global);")}}})}({},window);
/*path@1.0.0#index*/
define("path/index",function(n,e,i){e.basename=function(n){return n.split("/").pop()},e.dirname=function(n){return n.split("/").slice(0,-1).join("/")||"."},e.extname=function(n){var i=e.basename(n);if(!~i.indexOf("."))return"";var t=i.split(".").pop();return"."+t}});
/*fs-web@1.0.1#directory_entry*/
define("fs-web/directory_entry",["exports","module","path/index"],function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){this.path=e,this.name=s["default"].basename(e),this.dir=s["default"].dirname(e),this.type=t}var s=n(i);t.exports=r});
/*fs-web@1.0.1#core*/
define("fs-web/core",["exports","path/index","fs-web/directory_entry"],function(n,e,r){"use strict";function t(n){return n&&n.__esModule?n:{"default":n}}function o(n){return String.fromCharCode.apply(null,new Uint16Array(n))}function i(n){for(var e=new ArrayBuffer(2*n.length),r=new Uint16Array(e),t=0,o=n.length;o>t;t++)r[t]=n.charCodeAt(t);return e}function u(n){var e=window.indexedDB.open(g,1);e.onupgradeneeded=function(n){var e=n.target.result,r=e.createObjectStore(m,{keyPath:"path"});r.createIndex(P,"dir",{unique:!1})},e.onsuccess=function(e){n(e.target.result)}}function a(n,e){u(function(r){var t=r.transaction([m],n),o=t.objectStore(m);e(o)})}function c(n){return A(n).then(function(n){return n instanceof ArrayBuffer||(n=i(n.toString())),n})}function f(n){return A(n).then(function(n){return n instanceof ArrayBuffer&&(n=o(n)),n})}function d(n,e){return new Promise(function(r,t){a("readwrite",function(o){var i=o.put({path:n,dir:v["default"].dirname(n),type:"file",data:e});i.onerror=t,i.onsuccess=function(n){r()}})})}function s(n){return new Promise(function(e){a("readwrite",function(r){var t=r["delete"](n);t.onerror=t.onsuccess=function(n){e()}})})}function l(n){var e="/"===n[n.length-1]?n:n+"/";return e}function y(n){return new Promise(function(e,r){a("readonly",function(t){var o=v["default"].dirname(l(n)),i=t.index(P),u=IDBKeyRange.only(o),a=i.openCursor(u);a.onerror=function(n){r(n)};var c=[];a.onsuccess=function(n){var r=n.target.result;if(r){var t=r.value,o=new w["default"](t.path,t.type);c.push(o),r["continue"]()}else e(c)}})})}function h(n){return new Promise(function(e,r){a("readwrite",function(t){var o=l(v["default"]),i=t.put({path:n,dir:v["default"].dirname(o),type:"directory"});i.onerror=r,i.onsuccess=function(n){e()}})})}function p(n){return y(n).then(function e(r){if(!r||!r.length)return s(n);var t=r.shift(),o="directory"===t.type?p:s;return o(t.name).then(function(){return e(r)})})}Object.defineProperty(n,"__esModule",{value:!0}),n.readFile=c,n.readString=f,n.writeFile=d,n.removeFile=s,n.readdir=y,n.mkdir=h,n.rmdir=p;var v=t(e),w=t(r),g=window.location.host+"_filesystem",m="files",P="dir",A=function(n){return new Promise(function(e,r){a("readonly",function(t){var o=t.get(n);o.onerror=r,o.onsuccess=function(n){var t=n.target.result;t&&t.data?e(t.data):r("File not found")}})})}});
/*fs-web@1.0.1#fs*/
define("fs-web/fs",["exports","fs-web/core","fs-web/directory_entry"],function(e,r,t){"use strict";function o(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r["default"]=e,r}function n(e,r){for(var t=Object.getOwnPropertyNames(r),o=0;o<t.length;o++){var n=t[o],f=Object.getOwnPropertyDescriptor(r,n);f&&f.configurable&&void 0===e[n]&&Object.defineProperty(e,n,f)}return e}function f(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=f(t);i["default"].prototype.readFile=function(e){if("file"!==this.type)throw new TypeError("Not a file.");return r.readFile(this.path,e)},n(e,o(r)),e.DirectoryEntry=i["default"]});
/*fs-web@1.0.1#global*/
define("fs-web/global",["exports","fs-web/fs"],function(e,s){"use strict";window.fsWeb=s});
/*[global-shim-end]*/
!function(){window._define=window.define,window.define=window.define.orig}();